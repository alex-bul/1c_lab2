<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–†—É—Å—Å–∫–∏–π –ß–∞–π ‚Äî –° –î—É—à–æ–π</title>
    
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –ú–æ–Ω—Ç—Å–µ—Ä—Ä–∞—Ç –∏ –°—Ç–∞—Ä–æ—Ä—É—Å—Å–∫–∏–π —à—Ä–∏—Ñ—Ç -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;800&family=Ruslan+Display&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --kh-red: #D22027; /* –ö—Ä–∞—Å–Ω—ã–π –∫–∞–∫ –Ω–∞ –ª–æ–∂–∫–∞—Ö */
            --kh-gold: #C5A065; /* –ó–æ–ª–æ—Ç–æ–π */
            --kh-black: #1E1E1E;
            --bg-cream: #FFFDF5; /* –¢–µ–ø–ª—ã–π —Ñ–æ–Ω */
            
            /* –ì—Ä–∞–¥–∏–µ–Ω—Ç—ã –∫–∞—Ä—Ç–æ—á–µ–∫ */
            --grad-taiga: linear-gradient(135deg, #37474F 0%, #263238 100%);
            --grad-east: linear-gradient(135deg, #E67E22 0%, #D35400 100%);
            --grad-caucasus: linear-gradient(135deg, #27AE60 0%, #196F3D 100%);
            --grad-volga: linear-gradient(135deg, #F4D03F 0%, #D4AC0D 100%);
            --grad-karelia: linear-gradient(135deg, #5B2C6F 0%, #4A235A 100%);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: var(--bg-cream);
            color: var(--kh-black);
            overflow-x: hidden;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        /* --- –•–û–•–õ–û–ú–ê (–î–µ–∫–æ—Ä –ø–æ —É–≥–ª–∞–º) --- */
        .decor {
            position: fixed;
            width: 200px;
            height: 200px;
            pointer-events: none;
            z-index: 0;
            opacity: 0.15; /* –õ–µ–≥–∫–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å, —á—Ç–æ–±—ã –Ω–µ –º–µ—à–∞–ª–æ —Ç–µ–∫—Å—Ç—É */
            background-repeat: no-repeat;
            background-size: contain;
        }

        .decor-tl {
            top: -20px; left: -20px;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0 L150 0 C100 50 50 100 0 150 Z' fill='%23D22027'/%3E%3Ccircle cx='40' cy='30' r='10' fill='%23C5A065'/%3E%3Ccircle cx='80' cy='20' r='8' fill='%231E1E1E'/%3E%3Cpath d='M0 80 Q50 80 80 130' stroke='%231E1E1E' stroke-width='4' fill='none'/%3E%3C/svg%3E");
        }

        .decor-tr {
            top: -20px; right: -20px;
            transform: rotate(90deg);
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0 L150 0 C100 50 50 100 0 150 Z' fill='%23D22027'/%3E%3Ccircle cx='40' cy='30' r='10' fill='%23C5A065'/%3E%3Ccircle cx='80' cy='20' r='8' fill='%231E1E1E'/%3E%3C/svg%3E");
        }
        
        /* –°–Ω–∏–∑—É —á—É—Ç—å –±–æ–ª—å—à–µ —É–∑–æ—Ä–∞ */
        .decor-br {
            bottom: -50px; right: -50px;
            width: 300px; height: 300px;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M100 100 Q150 50 200 100 T300 100' stroke='%23D22027' stroke-width='2' fill='none'/%3E%3Ccircle cx='180' cy='180' r='20' fill='%23D22027' opacity='0.5'/%3E%3Ccircle cx='140' cy='190' r='15' fill='%23C5A065' opacity='0.5'/%3E%3C/svg%3E");
            transform: rotate(180deg);
        }

        /* --- –ì–õ–ê–í–ù–´–ô –≠–ö–†–ê–ù --- */
        .hero {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            /* –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ: —Ç–µ–∫—Å—Ç —Å–≤–µ—Ä—Ö—É, –ø—É—Å—Ç–æ—Ç–∞, —Å–ª–∞–π–¥–µ—Ä –≤–Ω–∏–∑—É */
            justify-content: flex-start; 
            padding-top: 5vh; 
            text-align: center;
            position: relative;
            z-index: 10;
        }

        .main-title {
            font-size: 3.5rem;
            line-height: 1.1;
            font-weight: 800;
            text-transform: uppercase;
            margin-bottom: 25px;
            color: var(--kh-black);
        }

        /* –¢–û–õ–¨–ö–û –°–õ–û–í–û –ß–ê–ô */
        .tea-word {
            font-family: 'Ruslan Display', cursive; /* –°—Ç—Ä–∞–Ω–Ω—ã–π –¥—Ä–µ–≤–Ω–∏–π —à—Ä–∏—Ñ—Ç */
            color: var(--kh-red);
            font-size: 1.3em; /* –ß—É—Ç—å –∫—Ä—É–ø–Ω–µ–µ –æ—Å—Ç–∞–ª—å–Ω–æ–≥–æ */
            font-weight: 400;
            display: inline-block;
            transform: translateY(3px); /* –ö–æ—Ä—Ä–µ–∫—Ü–∏—è –ª–∏–Ω–∏–∏ */
        }

        .subtitle-box {
            max-width: 600px;
            margin: 0 auto 35px;
            padding: 0 20px;
        }

        .subtitle-box p {
            font-size: 1.1rem;
            line-height: 1.6;
            font-weight: 400;
            color: #444;
        }

        .btn-start {
            background-color: var(--kh-red);
            color: white;
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            padding: 16px 40px;
            border-radius: 50px;
            border: none;
            cursor: pointer;
            box-shadow: 0 6px 20px rgba(210, 32, 39, 0.3);
            transition: transform 0.2s, box-shadow 0.2s;
            position: relative;
            z-index: 20;
        }

        .btn-start:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(210, 32, 39, 0.5);
            background-color: #b91b22;
        }

        /* --- –°–õ–ê–ô–î–ï–† --- */
        .slider-wrap {
            width: 100%;
            /* –í—ã—Å–æ—Ç–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞, —á—Ç–æ–±—ã –Ω–µ –ø—Ä—ã–≥–∞–ª–æ */
            height: 340px; 
            margin-top: auto; /* –ü—Ä–∏–±–∏—Ç—å –∫ –Ω–∏–∑—É */
            margin-bottom: 20px;
            overflow: hidden;
            position: relative;
            /* –ú–∞—Å–∫–∞ –ø–æ –±–æ–∫–∞–º –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è */
            mask-image: linear-gradient(90deg, transparent, #000 10%, #000 90%, transparent);
            -webkit-mask-image: linear-gradient(90deg, transparent, #000 10%, #000 90%, transparent);
        }

        .slider-track {
            display: flex;
            gap: 30px;
            position: absolute;
            left: 0;
            padding: 10px 40px; /* –û—Ç—Å—Ç—É–ø—ã –¥–ª—è —Ç–µ–Ω–µ–π */
            animation: infiniteScroll 25s linear infinite;
        }

        /* –ü–∞—É–∑–∞ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
        .slider-wrap:hover .slider-track {
            animation-play-state: paused;
        }

        @keyframes infiniteScroll {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); } /* –î–≤–∏–∂–µ–Ω–∏–µ –Ω–∞ 50%, —Ç–∞–∫ –∫–∞–∫ –ª–µ–Ω—Ç–∞ —Å–¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∞ */
        }

        /* --- –ö–ê–†–¢–û–ß–ö–ê --- */
        .card {
            width: 220px;
            height: 300px;
            perspective: 1000px;
            cursor: pointer;
            flex-shrink: 0;
        }

        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .card:hover .card-inner {
            transform: rotateY(180deg);
        }

        .front, .back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        /* –õ–∏—Ü–µ–≤–∞—è */
        .front {
            color: white;
            justify-content: flex-end; /* –¢–µ–∫—Å—Ç –≤–Ω–∏–∑—É */
        }

        .front h3 {
            font-size: 1rem;
            text-transform: uppercase;
            font-weight: 700;
            letter-spacing: 1px;
            margin-bottom: 30px;
            z-index: 2;
        }

        /* –≠–º–æ–¥–∑–∏ –≤ –∫—Ä—É–∂–∫–µ */
        .icon-circle {
            background: rgba(255,255,255,0.2);
            width: 90px;
            height: 90px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            margin-bottom: auto; /* Push to top */
            margin-top: 40px;
            backdrop-filter: blur(4px);
            border: 1px solid rgba(255,255,255,0.3);
        }

        /* –û–±–æ—Ä–æ—Ç–Ω–∞—è */
        .back {
            background: white;
            color: var(--kh-black);
            transform: rotateY(180deg);
            border: 1px solid #ddd;
        }

        .back h4 {
            color: var(--kh-red);
            margin-bottom: 10px;
            font-family: 'Ruslan Display', cursive;
            font-size: 1.2rem;
        }
        
        .back p { font-size: 0.9rem; margin-bottom: 10px; }

        /* --- –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨ --- */
        @media (max-height: 750px) {
            .hero { padding-top: 2vh; }
            .slider-wrap { height: 280px; }
            .card { width: 180px; height: 260px; }
            .main-title { font-size: 2.5rem; margin-bottom: 15px; }
            .subtitle-box { margin-bottom: 20px; }
            .icon-circle { width: 70px; height: 70px; font-size: 2.5rem; margin-top: 20px; }
        }

        @media (max-width: 600px) {
            .main-title { font-size: 2rem; }
            .subtitle-box p { font-size: 0.95rem; }
            .btn-start { padding: 14px 30px; font-size: 0.9rem; }
        }

        /* --- –ú–û–î–ê–õ–ö–ê (–ö–í–ò–ó) --- */
        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0; top: 0; width: 100%; height: 100%;
            background: rgba(255, 253, 245, 0.95);
            justify-content: center;
            align-items: center;
            opacity: 0; transition: opacity 0.3s;
        }
        .modal.active { opacity: 1; display: flex; }

        .quiz-card {
            background: white;
            padding: 30px;
            width: 90%; max-width: 450px;
            border-radius: 20px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.15);
            text-align: center;
            position: relative;
            border: 1px solid var(--kh-gold);
        }
        
        .close {
            position: absolute; right: 20px; top: 15px;
            font-size: 30px;
            cursor: pointer;
            line-height: 20px;
            color: #888;
        }
        .close:hover { color: var(--kh-red); }

        .step { display: none; animation: fadeIn 0.4s; }
        .step.active { display: block; }

        .q-text {
            font-size: 1.3rem; margin-bottom: 20px; font-weight: 600;
        }
        
        .ans-btn {
            display: block; width: 100%;
            padding: 12px; margin-bottom: 10px;
            background: white; border: 1px solid #ddd;
            border-radius: 10px; font-family: 'Montserrat';
            cursor: pointer; transition: 0.2s;
        }
        .ans-btn:hover {
            border-color: var(--kh-red); color: var(--kh-red);
            background: #fff5f5;
        }

        .res-icon {
            width: 100px; height: 100px; border-radius: 50%;
            margin: 0 auto 15px; color: white; 
            display: flex; align-items: center; justify-content: center; font-size: 3rem;
        }
        
        .market-link {
            display: inline-block; padding: 10px 20px;
            border-radius: 8px; color: white; text-decoration: none;
            font-weight: bold; margin: 5px; font-size: 0.9rem;
        }

        @keyframes fadeIn { from {opacity:0; transform:translateY(10px);} to {opacity:1;} }

    </style>
</head>
<body>

    <!-- –î–µ–∫–æ—Ä —Ñ–æ–Ω–∞ (–•–æ—Ö–ª–æ–º–∞) -->
    <div class="decor decor-tl"></div>
    <div class="decor decor-tr"></div>
    <div class="decor decor-br"></div>

    <section class="hero">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <h1 class="main-title">
            <span style="font-size:0.6em; display:block; margin-bottom:5px;">–ù–∞—Å—Ç–æ—è—â–∏–π</span>
            –†—É—Å—Å–∫–∏–π <span class="tea-word">–ß–ê–ô</span><br>
            –° –¥—É—à–æ–π
        </h1>

        <!-- –¢–µ–∫—Å—Ç -->
        <div class="subtitle-box">
            <p>–ú—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏–º —Ä—É—Å—Å–∫–∏–π —á–∞–π —Å —Ä–æ–¥–Ω—ã—Ö –ø–ª–∞–Ω—Ç–∞—Ü–∏–π.<br>
            –¶–µ–ª–µ–±–Ω—ã–µ —Ç—Ä–∞–≤—ã, —Å–æ–±—Ä–∞–Ω–Ω—ã–µ –≤—Ä—É—á–Ω—É—é, –∏ —Ä–µ—Ü–µ–ø—Ç—ã,<br>
            —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø–æ –∑–∞–≤–µ—Ç–∞–º –Ω–∞—à–∏—Ö –ø—Ä–µ–¥–∫–æ–≤.</p>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∞ -->
        <button class="btn-start" onclick="openQuiz()">–ü–æ–¥–æ–±—Ä–∞—Ç—å –º–æ–π –≤–∫—É—Å</button>

        <!-- –°–ª–∞–π–¥–µ—Ä (–ª–µ–Ω—Ç–∞) -->
        <div class="slider-wrap">
            <div class="slider-track" id="track">
                <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –≤—Å—Ç–∞–≤–∏—Ç —Å–∫—Ä–∏–ø—Ç -->
            </div>
        </div>
    </section>

    <!-- –ö–≤–∏–∑ (–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ) -->
    <div class="modal" id="quizModal">
        <div class="quiz-card">
            <span class="close" onclick="closeQuiz()">&times;</span>
            <div id="quizContent"></div>
        </div>
    </div>

    <script>
        // –ë–∞–∑–∞ —Ç–æ–≤–∞—Ä–æ–≤
        const teaList = [
            { id: 'taiga', title: '–°–∏–±–∏—Ä—Å–∫–∞—è –¢–∞–π–≥–∞', grad: 'var(--grad-taiga)', icon: 'üå≤', ing: '–ö–µ–¥—Ä, –±—Ä—É—Å–Ω–∏–∫–∞', mood: 'energy', place: 'forest' },
            { id: 'east', title: '–î–∞–ª—å–Ω–∏–π –í–æ—Å—Ç–æ–∫', grad: 'var(--grad-east)', icon: 'üêØ', ing: '–û–±–ª–µ–ø–∏—Ö–∞, –∏–º–±–∏—Ä—å', mood: 'energy', place: 'mountain' },
            { id: 'caucasus', title: '–ö–∞–≤–∫–∞–∑—Å–∫–∏–µ –ì–æ—Ä—ã', grad: 'var(--grad-caucasus)', icon: 'üèîÔ∏è', ing: '–ß–∞–±—Ä–µ—Ü, –º—è—Ç–∞', mood: 'calm', place: 'mountain' },
            { id: 'volga', title: '–ü–æ–≤–æ–ª–∂—å–µ', grad: 'var(--grad-volga)', icon: 'üåæ', ing: '–†–æ–º–∞—à–∫–∞, —è–±–ª–æ–∫–æ', mood: 'calm', place: 'field' },
            { id: 'karelia', title: '–ö–∞—Ä–µ–ª–∏—è', grad: 'var(--grad-karelia)', icon: 'ü´ê', ing: '–ß–µ—Ä–Ω–∏–∫–∞, –º–æ–∂–∂–µ–≤–µ–ª—å–Ω–∏–∫', mood: 'mystery', place: 'forest' },
        ];

        // 1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª–∞–π–¥–µ—Ä–∞
        const track = document.getElementById('track');
        let cardsHtml = '';

        function makeCard(item) {
            return `
            <div class="card">
                <div class="card-inner">
                    <div class="front" style="background: ${item.grad}">
                        <div class="icon-circle">${item.icon}</div>
                        <h3>${item.title}</h3>
                    </div>
                    <div class="back">
                        <h4>–°–æ—Å—Ç–∞–≤:</h4>
                        <p>${item.ing}</p>
                        <hr style="width:30%; border:1px solid #eee; margin:10px 0;">
                        <button class="ans-btn" style="font-size:0.8rem; padding:5px;" onclick="openQuiz()">–ü–æ–¥–æ–±—Ä–∞—Ç—å</button>
                    </div>
                </div>
            </div>`;
        }

        // –ü–æ–≤—Ç–æ—Ä—è–µ–º —Å–ø–∏—Å–æ–∫ 4 —Ä–∞–∑–∞ –¥–ª—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç–∏
        for(let i=0; i<4; i++) {
            teaList.forEach(t => cardsHtml += makeCard(t));
        }
        track.innerHTML = cardsHtml;


        // 2. –õ–æ–≥–∏–∫–∞ –ö–≤–∏–∑–∞
        const modal = document.getElementById('quizModal');
        const content = document.getElementById('quizContent');
        let scores = {};

        function openQuiz() {
            modal.classList.add('active');
            scores = { taiga:0, east:0, caucasus:0, volga:0, karelia:0 };
            renderQ1();
        }
        function closeQuiz() { modal.classList.remove('active'); }

        // –í–æ–ø—Ä–æ—Å 1
        function renderQ1() {
            content.innerHTML = `
                <div class="step active">
                    <div class="q-text">–ß–µ–≥–æ —Ö–æ—á–µ—Ç—Å—è –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å?</div>
                    <button class="ans-btn" onclick="vote(['caucasus','volga']); renderQ2()">–£—Å–ø–æ–∫–æ–∏—Ç—å—Å—è –∏ —Ä–∞—Å—Å–ª–∞–±–∏—Ç—å—Å—è</button>
                    <button class="ans-btn" onclick="vote(['taiga','east']); renderQ2()">–ó–∞—Ä—è–¥–∏—Ç—å—Å—è —ç–Ω–µ—Ä–≥–∏–µ–π</button>
                    <button class="ans-btn" onclick="vote(['karelia']); renderQ2()">–ü–æ–≥—Ä—É–∑–∏—Ç—å—Å—è –≤ –º—ã—Å–ª–∏</button>
                </div>`;
        }
        // –í–æ–ø—Ä–æ—Å 2
        function renderQ2() {
            content.innerHTML = `
                <div class="step active">
                    <div class="q-text">–ö–∞–∫–æ–π –≤–∫—É—Å –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ?</div>
                    <button class="ans-btn" onclick="vote(['volga','east']); renderQ3()">–§—Ä—É–∫—Ç–æ–≤—ã–π / –°–ª–∞–¥–∫–∏–π</button>
                    <button class="ans-btn" onclick="vote(['taiga','karelia']); renderQ3()">–Ø–≥–æ–¥–Ω—ã–π / –° –∫–∏—Å–ª–∏–Ω–∫–æ–π</button>
                    <button class="ans-btn" onclick="vote(['caucasus']); renderQ3()">–¢—Ä–∞–≤—è–Ω–æ–π / –°–≤–µ–∂–∏–π</button>
                </div>`;
        }
        // –í–æ–ø—Ä–æ—Å 3
        function renderQ3() {
            content.innerHTML = `
                <div class="step active">
                    <div class="q-text">–ö—É–¥–∞ –±—ã –æ—Ç–ø—Ä–∞–≤–∏–ª–∏—Å—å?</div>
                    <button class="ans-btn" onclick="vote(['taiga','karelia']); finish()">–í –≥—É—Å—Ç–æ–π –ª–µ—Å</button>
                    <button class="ans-btn" onclick="vote(['caucasus','east']); finish()">–í –≤—ã—Å–æ–∫–∏–µ –≥–æ—Ä—ã</button>
                    <button class="ans-btn" onclick="vote(['volga']); finish()">–í —á–∏—Å—Ç–æ–µ –ø–æ–ª–µ</button>
                </div>`;
        }

        function vote(ids) {
            ids.forEach(id => scores[id]++);
        }

        function finish() {
            // –ò—â–µ–º –ø–æ–±–µ–¥–∏—Ç–µ–ª—è
            let bestId = Object.keys(scores).reduce((a, b) => scores[a] > scores[b] ? a : b);
            let tea = teaList.find(t => t.id === bestId);

            content.innerHTML = `
                <div class="step active">
                    <h2 class="tea-word" style="font-size:1.8rem; margin-bottom:15px;">–í–∞—à –≤—ã–±–æ—Ä</h2>
                    <div class="res-icon" style="background:${tea.grad}">${tea.icon}</div>
                    <h3 style="margin-bottom:10px;">${tea.title}</h3>
                    <p style="color:#666; margin-bottom:20px;">${tea.ing}</p>
                    <div>
                        <a href="#" class="market-link" style="background:#cb11ab">Wildberries</a>
                        <a href="#" class="market-link" style="background:#005bff">Ozon</a>
                    </div>
                </div>`;
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ —Ñ–æ–Ω—É
        modal.onclick = (e) => { if(e.target === modal) closeQuiz(); }
    </script>
</body>
</html>
