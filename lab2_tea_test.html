<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–†—É—Å—Å–∫–∏–π –ß–∞–π ‚Äî –° –î—É—à–æ–π</title>
    
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —à—Ä–∏—Ñ—Ç—ã -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;800&family=Ruslan+Display&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --kh-red: #D22027; 
            --kh-gold: #C5A065; 
            --kh-black: #1E1E1E;
            --bg-cream: #FFFDF5; 
            
            /* –ì—Ä–∞–¥–∏–µ–Ω—Ç—ã –∫–∞—Ä—Ç–æ—á–µ–∫ */
            --grad-taiga: linear-gradient(135deg, #37474F 0%, #263238 100%);
            --grad-east: linear-gradient(135deg, #E67E22 0%, #D35400 100%);
            --grad-caucasus: linear-gradient(135deg, #27AE60 0%, #196F3D 100%);
            --grad-volga: linear-gradient(135deg, #F4D03F 0%, #D4AC0D 100%);
            --grad-karelia: linear-gradient(135deg, #5B2C6F 0%, #4A235A 100%);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: var(--bg-cream);
            color: var(--kh-black);
            overflow-x: hidden;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        /* --- –î–ï–ö–û–† --- */
        .decor {
            position: fixed;
            width: 200px; height: 200px;
            pointer-events: none; z-index: 0;
            opacity: 0.15;
            background-repeat: no-repeat; background-size: contain;
        }

        .decor-tl {
            top: -20px; left: -20px;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0 L150 0 C100 50 50 100 0 150 Z' fill='%23D22027'/%3E%3Ccircle cx='40' cy='30' r='10' fill='%23C5A065'/%3E%3Ccircle cx='80' cy='20' r='8' fill='%231E1E1E'/%3E%3Cpath d='M0 80 Q50 80 80 130' stroke='%231E1E1E' stroke-width='4' fill='none'/%3E%3C/svg%3E");
        }

        .decor-tr {
            top: -20px; right: -20px; transform: rotate(90deg);
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0 L150 0 C100 50 50 100 0 150 Z' fill='%23D22027'/%3E%3Ccircle cx='40' cy='30' r='10' fill='%23C5A065'/%3E%3Ccircle cx='80' cy='20' r='8' fill='%231E1E1E'/%3E%3C/svg%3E");
        }
        
        .decor-br {
            bottom: -50px; right: -50px; width: 300px; height: 300px;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M100 100 Q150 50 200 100 T300 100' stroke='%23D22027' stroke-width='2' fill='none'/%3E%3Ccircle cx='180' cy='180' r='20' fill='%23D22027' opacity='0.5'/%3E%3Ccircle cx='140' cy='190' r='15' fill='%23C5A065' opacity='0.5'/%3E%3C/svg%3E");
            transform: rotate(180deg);
        }

        /* --- HERO --- */
        .hero {
            flex: 1;
            display: flex; flex-direction: column;
            align-items: center; justify-content: flex-start; 
            padding-top: 5vh; text-align: center;
            position: relative; z-index: 10;
        }

        .main-title {
            font-size: 3.5rem; line-height: 1.1; font-weight: 800;
            text-transform: uppercase; margin-bottom: 25px;
            color: var(--kh-black);
        }

        .tea-word {
            font-family: 'Ruslan Display', cursive;
            color: var(--kh-red); font-size: 1.3em;
            font-weight: 400; display: inline-block;
            transform: translateY(3px);
        }

        .subtitle-box {
            max-width: 600px; margin: 0 auto 35px; padding: 0 20px;
        }

        .subtitle-box p {
            font-size: 1.1rem; line-height: 1.6;
            font-weight: 400; color: #444;
        }

        .btn-start {
            background-color: var(--kh-red); color: white;
            font-family: 'Montserrat', sans-serif; font-weight: 700;
            text-transform: uppercase; letter-spacing: 1px;
            padding: 16px 40px; border-radius: 50px;
            border: none; cursor: pointer;
            box-shadow: 0 6px 20px rgba(210, 32, 39, 0.3);
            transition: transform 0.2s, box-shadow 0.2s;
            position: relative; z-index: 20;
        }

        .btn-start:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(210, 32, 39, 0.5);
            background-color: #b91b22;
        }

        /* --- SLIDER --- */
        .slider-wrap {
            width: 100%; height: 340px; 
            margin-top: auto; margin-bottom: 20px;
            overflow: hidden; position: relative;
            mask-image: linear-gradient(90deg, transparent, #000 10%, #000 90%, transparent);
            -webkit-mask-image: linear-gradient(90deg, transparent, #000 10%, #000 90%, transparent);
        }

        .slider-track {
            display: flex; gap: 30px;
            position: absolute; left: 0;
            padding: 10px 40px;
            animation: infiniteScroll 45s linear infinite; /* –ß—É—Ç—å –ø–æ–º–µ–¥–ª–µ–Ω–Ω–µ–µ, —á—Ç–æ–±—ã —á–∏—Ç–∞—Ç—å —É—Å–ø–µ–≤–∞–ª–∏ */
        }

        .slider-wrap:hover .slider-track { animation-play-state: paused; }

        @keyframes infiniteScroll {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

        /* --- CARD --- */
        .card {
            width: 220px; height: 300px;
            perspective: 1000px; cursor: pointer;
            flex-shrink: 0;
        }

        .card-inner {
            position: relative; width: 100%; height: 100%;
            text-align: center; transition: transform 0.6s;
            transform-style: preserve-3d; border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .card:hover .card-inner { transform: rotateY(180deg); }

        .front, .back {
            position: absolute; width: 100%; height: 100%;
            backface-visibility: hidden; border-radius: 20px;
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            padding: 20px;
        }

        .front {
            color: white; justify-content: flex-end;
        }

        .front h3 {
            font-size: 1rem; text-transform: uppercase;
            font-weight: 700; letter-spacing: 1px;
            margin-bottom: 30px; z-index: 2;
        }

        .icon-circle {
            background: rgba(255,255,255,0.2);
            width: 90px; height: 90px;
            border-radius: 50%; display: flex;
            align-items: center; justify-content: center;
            font-size: 3rem; margin-bottom: auto;
            margin-top: 40px; backdrop-filter: blur(4px);
            border: 1px solid rgba(255,255,255,0.3);
        }

        .back {
            background: white; color: var(--kh-black);
            transform: rotateY(180deg); border: 1px solid #ddd;
        }

        .back-title {
            color: var(--kh-red); margin-bottom: 8px;
            font-family: 'Ruslan Display', cursive;
            font-size: 1.1rem;
        }
        
        .ing-text {
            font-weight: 600; font-size: 0.85rem; margin-bottom: 8px;
        }

        .desc-text {
            font-size: 0.8rem; line-height: 1.4; color: #555;
            font-style: italic; margin-bottom: 10px;
        }

        /* --- ADAPTIVE --- */
        @media (max-height: 750px) {
            .hero { padding-top: 2vh; }
            .slider-wrap { height: 280px; }
            .card { width: 180px; height: 260px; }
            .main-title { font-size: 2.5rem; margin-bottom: 15px; }
            .subtitle-box { margin-bottom: 10px; }
            .icon-circle { width: 70px; height: 70px; font-size: 2.5rem; margin-top: 20px; }
            .front h3 { font-size: 0.9rem; }
        }

        @media (max-width: 600px) {
            .main-title { font-size: 2rem; }
            .subtitle-box p { font-size: 0.95rem; }
            .btn-start { padding: 14px 30px; font-size: 0.9rem; }
        }

        /* --- MODAL --- */
        .modal {
            display: none; position: fixed; z-index: 100;
            left: 0; top: 0; width: 100%; height: 100%;
            background: rgba(255, 253, 245, 0.95);
            justify-content: center; align-items: center;
            opacity: 0; transition: opacity 0.3s;
        }
        .modal.active { opacity: 1; display: flex; }

        .quiz-card {
            background: white; padding: 30px;
            width: 90%; max-width: 450px;
            border-radius: 20px; box-shadow: 0 20px 50px rgba(0,0,0,0.15);
            text-align: center; position: relative;
            border: 1px solid var(--kh-gold);
        }
        
        .close {
            position: absolute; right: 20px; top: 15px;
            font-size: 30px; cursor: pointer; color: #888;
        }
        .close:hover { color: var(--kh-red); }

        .step { display: none; animation: fadeIn 0.4s; }
        .step.active { display: block; }

        .q-text { font-size: 1.3rem; margin-bottom: 20px; font-weight: 600; }
        
        .ans-btn {
            display: block; width: 100%; padding: 12px; margin-bottom: 10px;
            background: white; border: 1px solid #ddd;
            border-radius: 10px; font-family: 'Montserrat';
            cursor: pointer; transition: 0.2s;
        }
        .ans-btn:hover {
            border-color: var(--kh-red); color: var(--kh-red); background: #fff5f5;
        }

        .market-link {
            display: inline-block; padding: 10px 20px;
            border-radius: 8px; color: white; text-decoration: none;
            font-weight: bold; margin: 5px; font-size: 0.9rem;
        }

        @keyframes fadeIn { from {opacity:0; transform:translateY(10px);} to {opacity:1;} }
    </style>
</head>
<body>

    <div class="decor decor-tl"></div>
    <div class="decor decor-tr"></div>
    <div class="decor decor-br"></div>

    <section class="hero">
        <h1 class="main-title">
            <span style="font-size:0.6em; display:block; margin-bottom:5px;">–ù–∞—Å—Ç–æ—è—â–∏–π</span>
            –†—É—Å—Å–∫–∏–π <span class="tea-word">–ß–ê–ô</span><br>
            –° –¥—É—à–æ–π
        </h1>

        <div class="subtitle-box">
            <p>–ú—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏–º —Ä—É—Å—Å–∫–∏–π —á–∞–π —Å —Ä–æ–¥–Ω—ã—Ö –ø–ª–∞–Ω—Ç–∞—Ü–∏–π.<br>
            –¶–µ–ª–µ–±–Ω—ã–µ —Ç—Ä–∞–≤—ã, —Å–æ–±—Ä–∞–Ω–Ω—ã–µ –≤—Ä—É—á–Ω—É—é, –∏ —Ä–µ—Ü–µ–ø—Ç—ã,<br>
            —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø–æ –∑–∞–≤–µ—Ç–∞–º –Ω–∞—à–∏—Ö –ø—Ä–µ–¥–∫–æ–≤.</p>
        </div>

        <button class="btn-start" onclick="openQuiz()">–ü–æ–¥–æ–±—Ä–∞—Ç—å –º–æ–π –≤–∫—É—Å</button>

        <div class="slider-wrap">
            <div class="slider-track" id="track"></div>
        </div>
    </section>

    <!-- Modal -->
    <div class="modal" id="quizModal">
        <div class="quiz-card">
            <span class="close" onclick="closeQuiz()">&times;</span>
            <div id="quizContent"></div>
        </div>
    </div>

    <script>
        // –û–ë–ù–û–í–õ–ï–ù–ù–ê–Ø –ë–ê–ó–ê –° –ö–†–£–¢–´–ú –û–ü–ò–°–ê–ù–ò–ï–ú
        const teaList = [
            { 
                id: 'taiga', 
                title: '–°–∏–±–∏—Ä—Å–∫–∞—è –¢–∞–π–≥–∞', 
                grad: 'var(--grad-taiga)', 
                icon: 'üå≤', 
                ing: '–•–≤–æ—è, —à–∏—à–∫–∏, –±—Ä—É—Å–Ω–∏–∫–∞ –∏ –¥—É—Ö –º–µ–¥–≤–µ–¥—è', 
                desc: '–ß–∞–π –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ –º–æ–∂–µ—Ç —Å–æ–±—Ä–∞—Ç—å —à–∫–∞—Ñ –∏–∑ IKEA –±–µ–∑ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏. –°—É—Ä–æ–≤—ã–π, —Ö–≤–æ–π–Ω—ã–π, —Ç–≤–æ–π.',
                url_wb: '#', url_ozon: '#' 
            },
            { 
                id: 'east', 
                title: '–î–∞–ª—å–Ω–∏–π –í–æ—Å—Ç–æ–∫', 
                grad: 'var(--grad-east)', 
                icon: 'üêØ', 
                ing: '–û–±–ª–µ–ø–∏—Ö–∞, –∏–º–±–∏—Ä—å –∏ –ø–µ—Ä–≤—ã–µ –ª—É—á–∏ —Å–æ–ª–Ω—Ü–∞', 
                desc: '–ë–æ–¥—Ä–∏—Ç –ª—É—á—à–µ, —á–µ–º –¥–µ–¥–ª–∞–π–Ω –≤ –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫. –°–æ–≥—Ä–µ–µ—Ç –¥–∞–∂–µ —Å–µ—Ä–¥—Ü–µ –°–Ω–µ–∂–Ω–æ–π –ö–æ—Ä–æ–ª–µ–≤—ã.',
                url_wb: '#', url_ozon: '#' 
            },
            { 
                id: 'caucasus', 
                title: '–ö–∞–≤–∫–∞–∑—Å–∫–∏–µ –ì–æ—Ä—ã', 
                grad: 'var(--grad-caucasus)', 
                icon: 'üèîÔ∏è', 
                ing: '–¢–∏–º—å—è–Ω, –º—è—Ç–∞ –∏ –∫–∞–ø–ª—è –≤–µ—á–Ω–æ—Å—Ç–∏', 
                desc: '–û—Å–≤–µ–∂–∞–µ—Ç –º—ã—Å–ª–∏ –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç –∫–∞—Ä–º—É. –ü—å–µ—à—å –∏ —á—É–≤—Å—Ç–≤—É–µ—à—å, –∫–∞–∫ –∑–∞ —Å–ø–∏–Ω–æ–π —Ä–∞—Å—Ç—É—Ç –∫—Ä—ã–ª—å—è.',
                url_wb: '#', url_ozon: '#' 
            },
            { 
                id: 'volga', 
                title: '–ü–æ–≤–æ–ª–∂—å–µ', 
                grad: 'var(--grad-volga)', 
                icon: 'üåæ', 
                ing: '–†–æ–º–∞—à–∫–∞, –Ω–∞–ª–∏–≤–Ω–æ–µ —è–±–ª–æ—á–∫–æ –∏ —à–µ–ª–µ—Å—Ç —Ç—Ä–∞–≤', 
                desc: '–£—é—Ç–Ω—ã–π, –∫–∞–∫ –æ–±—ä—è—Ç–∏—è –±–∞–±—É—à–∫–∏. –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥ –ø–ª–µ–¥, –∫–æ—Ç–∞ –∏ –¥–æ–ª–≥–∏–µ –¥—É—à–µ–≤–Ω—ã–µ —Ä–∞–∑–≥–æ–≤–æ—Ä—ã.',
                url_wb: '#', url_ozon: '#' 
            },
            { 
                id: 'karelia', 
                title: '–ö–∞—Ä–µ–ª–∏—è', 
                grad: 'var(--grad-karelia)', 
                icon: 'ü´ê', 
                ing: '–ß–µ—Ä–Ω–∏–∫–∞, –º–æ–∂–∂–µ–≤–µ–ª—å–Ω–∏–∫ –∏ —Ç—É–º–∞–Ω –æ–∑–µ—Ä', 
                desc: '–í–∫—É—Å –∑–∞–≥–∞–¥–æ—á–Ω—ã–π, –∫–∞–∫ —ç—Ç–æ—Ç –∫—Ä–∞–π. –î–ª—è —Ñ–∏–ª–æ—Å–æ—Ñ–æ–≤, –º–µ—á—Ç–∞—Ç–µ–ª–µ–π –∏ —Ç–µ—Ö, –∫—Ç–æ –∏—â–µ—Ç –¥–∑–µ–Ω.',
                url_wb: '#', url_ozon: '#' 
            },
        ];

        // 1. –°–õ–ê–ô–î–ï–†
        const track = document.getElementById('track');
        let cardsHtml = '';

        function makeCard(item) {
            return `
            <div class="card">
                <div class="card-inner">
                    <div class="front" style="background: ${item.grad}">
                        <div class="icon-circle">${item.icon}</div>
                        <h3>${item.title}</h3>
                    </div>
                    <div class="back">
                        <div class="back-title">–ß—Ç–æ –≤–Ω—É—Ç—Ä–∏?</div>
                        <div class="ing-text">${item.ing}</div>
                        <div class="desc-text">"${item.desc}"</div>
                        <hr style="width:30%; border:1px solid #eee; margin:5px 0;">
                        <button class="ans-btn" style="font-size:0.75rem; padding:6px; margin-bottom:0;" onclick="openQuiz()">–ü–æ–¥–æ–±—Ä–∞—Ç—å</button>
                    </div>
                </div>
            </div>`;
        }

        // x4 –¥–ª—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç–∏
        for(let i=0; i<4; i++) {
            teaList.forEach(t => cardsHtml += makeCard(t));
        }
        track.innerHTML = cardsHtml;

        // 2. –ö–í–ò–ó (–õ–æ–≥–∏–∫–∞ —Ç–∞ –∂–µ)
        const modal = document.getElementById('quizModal');
        const content = document.getElementById('quizContent');
        let scores = {};

        function openQuiz() {
            modal.classList.add('active');
            scores = { taiga:0, east:0, caucasus:0, volga:0, karelia:0 };
            renderQ1();
        }
        function closeQuiz() { modal.classList.remove('active'); }

        function renderQ1() {
            content.innerHTML = `
                <div class="step active">
                    <div class="q-text">–ß–µ–≥–æ —Ö–æ—á–µ—Ç—Å—è –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å?</div>
                    <button class="ans-btn" onclick="vote(['caucasus','volga']); renderQ2()">–£—Å–ø–æ–∫–æ–∏—Ç—å—Å—è –∏ –≤—ã–¥–æ—Ö–Ω—É—Ç—å</button>
                    <button class="ans-btn" onclick="vote(['taiga','east']); renderQ2()">–í–æ—Ä–≤–∞—Ç—å—Å—è –≤ —Ä–∞–±–æ—á–∏–π —Ä–µ–∂–∏–º</button>
                    <button class="ans-btn" onclick="vote(['karelia']); renderQ2()">–ü–æ—Å–∏–¥–µ—Ç—å –≤ —Ç–∏—à–∏–Ω–µ –∏ –ø–æ–¥—É–º–∞—Ç—å</button>
                </div>`;
        }
        function renderQ2() {
            content.innerHTML = `
                <div class="step active">
                    <div class="q-text">–ö–∞–∫–æ–π –≤–∫—É—Å –±–ª–∏–∂–µ?</div>
                    <button class="ans-btn" onclick="vote(['volga','east']); renderQ3()">–§—Ä—É–∫—Ç–æ–≤—ã–π / –°–ª–∞–¥–µ–Ω—å–∫–∏–π</button>
                    <button class="ans-btn" onclick="vote(['taiga','karelia']); renderQ3()">–Ø–≥–æ–¥–Ω—ã–π / –° –∫–∏—Å–ª–∏–Ω–∫–æ–π</button>
                    <button class="ans-btn" onclick="vote(['caucasus']); renderQ3()">–¢—Ä–∞–≤—è–Ω–æ–π / –° —Ö–æ–ª–æ–¥–∫–æ–º</button>
                </div>`;
        }
        function renderQ3() {
            content.innerHTML = `
                <div class="step active">
                    <div class="q-text">–í–∞—à–µ –º–µ—Å—Ç–æ —Å–∏–ª—ã?</div>
                    <button class="ans-btn" onclick="vote(['taiga','karelia']); finish()">–î–∏–∫–∏–π –≥—É—Å—Ç–æ–π –ª–µ—Å</button>
                    <button class="ans-btn" onclick="vote(['caucasus','east']); finish()">–í–µ—Ä—à–∏–Ω–∞ –≤—ã—Å–æ–∫–æ–π –≥–æ—Ä—ã</button>
                    <button class="ans-btn" onclick="vote(['volga']); finish()">–ë–µ—Å–∫—Ä–∞–π–Ω–µ–µ –ø–æ–ª–µ</button>
                </div>`;
        }

        function vote(ids) { ids.forEach(id => scores[id]++); }

        function finish() {
            let bestId = Object.keys(scores).reduce((a, b) => scores[a] > scores[b] ? a : b);
            let tea = teaList.find(t => t.id === bestId);

            content.innerHTML = `
                <div class="step active">
                    <h2 class="tea-word" style="font-size:1.8rem; margin-bottom:15px;">–í–∞—à –≤—ã–±–æ—Ä</h2>
                    <div style="width:100px; height:100px; border-radius:50%; margin:0 auto 15px; color:white; display:flex; align-items:center; justify-content:center; font-size:3rem; background:${tea.grad}">${tea.icon}</div>
                    <h3 style="margin-bottom:10px;">${tea.title}</h3>
                    <p style="color:#555; font-style:italic; font-size:0.9rem; margin-bottom:20px;">${tea.desc}</p>
                    <div>
                        <a href="${tea.url_wb}" class="market-link" style="background:#cb11ab">Wildberries</a>
                        <a href="${tea.url_ozon}" class="market-link" style="background:#005bff">Ozon</a>
                    </div>
                </div>`;
        }

        modal.onclick = (e) => { if(e.target === modal) closeQuiz(); }
    </script>
</body>
</html>
